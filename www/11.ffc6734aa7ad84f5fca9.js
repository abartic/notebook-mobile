(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"p+23":function(l,n,e){"use strict";e.d(n,"a",function(){return s});var t=e("KwpI"),u=e("Uz5F"),o=e("CcnG"),r=e("ZYCi"),s=function(){function l(l,n){var e=this;this.userSessionService=l,this.router=n,this.userSessionService.userSession.subscribe(function(l){e.userSession=l},function(l){e.router.navigate(["/error",{errorcode:"User sessions missing. Please re-login!"}])})}return l.prototype.canActivate=function(){if(!0===t.a.mobile)return!0;var l=this.userSession.LastAuthTime;if(null!==l){var n=new Date(Date.now()-2592e6);if(new Date(Number.parseInt(l))>n)return!0}this.router.navigate(["/homepage"])},l.ngInjectableDef=o.defineInjectable({factory:function(){return new l(o.inject(u.a),o.inject(r.o))},token:l,providedIn:"root"}),l}()},xQBb:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=function(){return function(){}}(),o=e("pMnS"),r=e("Ip0R"),s=e("3FoF"),i=e("zNit"),a=e("4GxJ"),d=e("gIcY"),c=e("0qyg"),p=e("t/Na"),f=function(){function l(l){this.httpCaller=l,this.response=null,this.user=""}return l.prototype.ngOnInit=function(){},l.prototype.getError=function(l){return null==l?"generic error":l instanceof String?l.toString():l instanceof p.f?l.message:l.error?this.getError(l.error):JSON.stringify(l)},l.prototype.onCreateSheets=function(){var l=this;this.response=null,this.httpCaller.callPost("/sheetdata/create-spreadsheet",{spreadsheetNames:["inventory","movements","partners","budgets","settings","system"]},function(n){n.error?l.response=n.error:(l.response="Sheets created.",l.user=null)},function(n){l.response="Error: "+l.getError(n)})},l.prototype.onEnrollingUser=function(){var l=this;this.response=null,this.httpCaller.callPost("/sheetdata/enrolle-user-spreadsheet",{user:this.user.trim()},function(n){n.error?l.response=n.error:(l.response="Used enrolled.",l.user=null)},function(n){l.response="Error: "+l.getError(n)})},l.prototype.onDisenrollingUser=function(){var l=this;this.response=null,this.httpCaller.callPost("/sheetdata/disenrolle-user-spreadsheet",{user:this.user.trim()},function(n){n.error?l.response=n.error:(l.response="Used disenrolled.",l.user=null)},function(n){l.response="Error: "+l.getError(n)})},l.prototype.onDeleteMetadata=function(){var l=this;this.response=null,this.httpCaller.callPost("/sheetdata/delete-metadata",{spreadsheetNames:["inventory","movements","partners","budgets","settings"]},function(n){l.response=n.error?n.error:"Metadata deleted!"},function(n){l.response="Error: "+l.getError(n)})},l}(),m=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{animation:[{type:7,name:"routerTransition",definitions:[{type:0,name:"void",styles:{type:6,styles:{},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateY(100%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0%)"},offset:null},timings:"0.5s ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{transform:"translateY(0%)"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(-100%)"},offset:null},timings:"0.5s ease-in-out"}],options:null}],options:{}}]}});function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","alert alert-warning alert-dismissible fade show"],["role","alert"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,r.j,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t["\u0275eld"](2,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==(l.component.response=null)&&t),t},null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xd7"])),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""]))],function(l,n){var e=n.component;l(n,1,0,"alert alert-warning alert-dismissible fade show",e.alert-e.danger)},function(l,n){l(n,6,0,n.component.response)})}function g(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,46,"div",[],[[24,"@routerTransition",0]],null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"h2",[["class","text-muted"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,s.a,[i.a,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,37,"div",[["class","col-xl-6 col-lg-8 col-md-10 col-sm-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,36,"div",[["class","container"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,3,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"button",[["class","btn btn-outline-primary btn-block"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCreateSheets()&&t),t},null,null)),(l()(),t["\u0275ted"](10,null,["",""])),t["\u0275pid"](131072,s.a,[i.a,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,25,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,17,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,16,"div",[["ngbDropdown",""]],[[2,"show",null]],null,null,null,null)),t["\u0275did"](15,212992,null,2,a.t,[t.ChangeDetectorRef,a.v,r.d,t.NgZone],null,null),t["\u0275qud"](335544320,1,{_menu:0}),t["\u0275qud"](335544320,2,{_anchor:0}),(l()(),t["\u0275eld"](18,0,null,null,4,"button",[["aria-haspopup","true"],["class","btn btn-outline-primary btn-block dropdown-toggle"],["id","dropdownBasic1"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,19).toggleOpen()&&u),u},null,null)),t["\u0275did"](19,16384,null,0,a.y,[a.t,t.ElementRef],null,null),t["\u0275prd"](2048,[[2,4]],a.u,null,[a.y]),(l()(),t["\u0275ted"](21,null,["",""])),t["\u0275pid"](131072,s.a,[i.a,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](23,0,null,null,7,"div",[["aria-labelledby","dropdownBasic1"],["class","dropdown-menu"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](24,16384,[[1,4]],0,a.w,[a.t,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275eld"](25,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEnrollingUser()&&t),t},null,null)),(l()(),t["\u0275ted"](26,null,["",""])),t["\u0275pid"](131072,s.a,[i.a,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](28,0,null,null,2,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDisenrollingUser()&&t),t},null,null)),(l()(),t["\u0275ted"](29,null,["",""])),t["\u0275pid"](131072,s.a,[i.a,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](31,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,33)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,33).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,33)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,33)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.user=e)&&u),u},null,null)),t["\u0275did"](33,16384,null,0,d.c,[t.Renderer2,t.ElementRef,[2,d.a]],null,null),t["\u0275prd"](1024,null,d.l,function(l){return[l]},[d.c]),t["\u0275did"](35,671744,null,0,d.p,[[8,null],[8,null],[8,null],[6,d.l]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.m,null,[d.p]),t["\u0275did"](37,16384,null,0,d.n,[[4,d.m]],null,null),(l()(),t["\u0275eld"](38,0,null,null,4,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,3,"div",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,2,"button",[["class","btn btn-outline-primary btn-block"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDeleteMetadata()&&t),t},null,null)),(l()(),t["\u0275ted"](41,null,["",""])),t["\u0275pid"](131072,s.a,[i.a,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](43,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](44,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](46,16384,null,0,r.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,15,0),l(n,35,0,e.user),l(n,46,0,null!==e.response)},function(l,n){l(n,0,0,void 0),l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("TIT.SHEETS_ADMIN"))),l(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform("BTN.CREATE_SHEETS"))),l(n,14,0,t["\u0275nov"](n,15).isOpen()),l(n,18,0,t["\u0275nov"](n,19).dropdown.isOpen()),l(n,21,0,t["\u0275unv"](n,21,0,t["\u0275nov"](n,22).transform("BTN.ENROLL_DISENROLL"))),l(n,23,0,!0,t["\u0275nov"](n,24).dropdown.isOpen(),t["\u0275nov"](n,24).placement),l(n,26,0,t["\u0275unv"](n,26,0,t["\u0275nov"](n,27).transform("BTN.ENROLL"))),l(n,29,0,t["\u0275unv"](n,29,0,t["\u0275nov"](n,30).transform("BTN.DISENROLL"))),l(n,32,0,t["\u0275nov"](n,37).ngClassUntouched,t["\u0275nov"](n,37).ngClassTouched,t["\u0275nov"](n,37).ngClassPristine,t["\u0275nov"](n,37).ngClassDirty,t["\u0275nov"](n,37).ngClassValid,t["\u0275nov"](n,37).ngClassInvalid,t["\u0275nov"](n,37).ngClassPending),l(n,41,0,t["\u0275unv"](n,41,0,t["\u0275nov"](n,42).transform("BTN.DELETE_METADATA")))})}function h(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sheets",[],null,null,null,g,m)),t["\u0275did"](1,114688,null,0,f,[c.a],null,null)],function(l,n){l(n,1,0)},null)}var y=t["\u0275ccf"]("app-sheets",f,h,{},{},[]),b=e("ZYCi"),C=e("p+23"),w=function(){return function(){}}(),E=e("mIVG");e.d(n,"SheetsModuleNgFactory",function(){return D});var D=t["\u0275cmf"](u,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,y]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,r.n,r.m,[t.LOCALE_ID,[2,r.D]]),t["\u0275mpd"](4608,d.v,d.v,[]),t["\u0275mpd"](1073742336,r.c,r.c,[]),t["\u0275mpd"](1073742336,d.t,d.t,[]),t["\u0275mpd"](1073742336,d.i,d.i,[]),t["\u0275mpd"](1073742336,b.s,b.s,[[2,b.y],[2,b.o]]),t["\u0275mpd"](1073742336,w,w,[]),t["\u0275mpd"](1073742336,a.x,a.x,[]),t["\u0275mpd"](1073742336,E.a,E.a,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](1024,b.m,function(){return[[{path:"",component:f,canActivate:[C.a]}]]},[])])})}}]);